"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[508],{4508:(b,l,c)=>{c.r(l),c.d(l,{CartComponent:()=>f});var s=c(177),t=c(4438),m=c(6225),d=c(345);function u(r,i){1&r&&(t.j41(0,"h2"),t.EFF(1,"Cart Items:"),t.k0s())}function g(r,i){1&r&&(t.j41(0,"div",5)(1,"p"),t.nrm(2,"img",6),t.k0s()())}function p(r,i){if(1&r){const n=t.RV6();t.j41(0,"div",9),t.nrm(1,"img",10),t.j41(2,"div",11)(3,"h3"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.k0s(),t.j41(7,"p"),t.EFF(8),t.nI1(9,"currency"),t.k0s(),t.j41(10,"div",12)(11,"button",13),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.decrementQuantity(o))}),t.EFF(12,"-"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s(),t.j41(15,"button",13),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.incrementQuantity(o))}),t.EFF(16,"+"),t.k0s(),t.j41(17,"div",14)(18,"button",15),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.removeItem(o))}),t.nrm(19,"i",16),t.k0s()()()()()}if(2&r){const n=i.$implicit,e=t.XpG(2);t.R7$(),t.FS9("alt",n.title),t.Y8G("src",e.getSafeUrl(n.images[0]),t.B4B),t.R7$(3),t.JRh(n.title),t.R7$(2),t.JRh(n.description),t.R7$(2),t.JRh(t.i5U(9,6,n.price,"EGP")),t.R7$(6),t.JRh(n.quantity)}}function _(r,i){if(1&r&&(t.j41(0,"div",7),t.DNE(1,p,20,9,"div",8),t.k0s()),2&r){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.cartItems)("ngForTrackBy",n.trackByFn)}}function h(r,i){if(1&r&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&r){const n=t.XpG();t.R7$(),t.SpI("Total Amount: ",t.i5U(2,1,n.totalAmount,"EGP"),"")}}let f=(()=>{class r{constructor(n,e){this.cartService=n,this.sanitizer=e,this.cartItems=[],this.cartItemCount=0,this.totalAmount=0}ngOnInit(){this.cartItems=this.cartService.getCartItems(),this.calculateTotalAmount(),this.subscription=this.cartService.getCartItemCount().subscribe(n=>{this.cartItemCount=n,this.calculateTotalAmount()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getSafeUrl(n){return this.sanitizer.bypassSecurityTrustUrl(n)}incrementQuantity(n){n.quantity++,this.cartService.updateCartItem(n),this.calculateTotalAmount()}decrementQuantity(n){n.quantity>1?(n.quantity--,this.cartService.updateCartItem(n)):this.removeItem(n),this.calculateTotalAmount()}removeItem(n){const e=this.cartItems.indexOf(n);e>-1&&(this.cartItems.splice(e,1),this.cartService.removeCartItem(n)),this.calculateTotalAmount()}calculateTotalAmount(){this.totalAmount=this.cartItems.reduce((n,e)=>n+e.price*e.quantity,0)}trackByFn(n,e){return e.id}static{this.\u0275fac=function(e){return new(e||r)(t.rXU(m.m),t.rXU(d.up))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-cart"]],standalone:!0,features:[t.aNF],decls:6,vars:4,consts:[[1,"cart-container"],[4,"ngIf"],["class","empty-cart",4,"ngIf"],["class","cart-items-container",4,"ngIf"],[1,"cart-total"],[1,"empty-cart"],["src","assets/imgGallery/empty cart.jfif","alt","Empty cart",1,"empty-cart-image"],[1,"cart-items-container"],["class","cart-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cart-item"],[1,"product-image",3,"src","alt"],[1,"item-details"],[1,"quantity-controls"],[3,"click"],[1,"remove-button-container"],[1,"remove-button",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,o){1&e&&(t.j41(0,"div",0),t.DNE(1,u,2,0,"h2",1)(2,g,3,0,"div",2)(3,_,2,2,"div",3),t.j41(4,"div",4),t.DNE(5,h,3,4,"h3",1),t.k0s()()),2&e&&(t.R7$(),t.Y8G("ngIf",o.cartItems.length>0),t.R7$(),t.Y8G("ngIf",0===o.cartItems.length),t.R7$(),t.Y8G("ngIf",o.cartItems.length>0),t.R7$(2),t.Y8G("ngIf",o.cartItems.length>0))},dependencies:[s.MD,s.Sq,s.bT,s.oe],styles:[".cart-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 8px #0000001a}.cart-items-container[_ngcontent-%COMP%]{max-height:465px;overflow-y:auto;padding-right:10px}.cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#daa520;border-radius:10px;border:3px solid #f1f1f1}.cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#b8860b}.cart-items-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:goldenrod #f1f1f1}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;border-bottom:1px solid #ccc;padding-bottom:10px;transition:background-color .3s}.cart-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.product-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;margin-right:20px;border-radius:8px}.item-details[_ngcontent-%COMP%]{flex:1}.cart-total[_ngcontent-%COMP%]{margin-top:20px;text-align:right;font-weight:700;font-size:1.2em}.empty-cart[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center}.empty-cart-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}@media (max-width: 600px){.cart-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.product-image[_ngcontent-%COMP%]{margin-bottom:10px}}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid goldenrod;background-color:#daa520;color:#fff;font-size:12px;margin:4px;border-radius:50%;text-align:center;width:30px;height:30px;padding:5px;transition:background-color .3s,border-color .3s}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#daa520;color:#000;border-color:#000}.remove-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.remove-button[_ngcontent-%COMP%]{background-color:#daa520;border:2px solid goldenrod;color:#fff;padding:5px;border-radius:50%;width:30px;height:30px;transition:background-color .3s,border-color .3s}.remove-button[_ngcontent-%COMP%]:hover{background-color:#daa520;color:#000;border-color:#000}.remove-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}"]})}}return r})()}}]);