"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[758],{5758:(X,h,r)=>{r.r(h),r.d(h,{PaymentComponent:()=>H});var l=r(4341),g=r(177),s=r(4438),p=r(7673),b=r(8359);class I extends b.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const d={setInterval(i,e,...t){const{delegate:n}=d;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=d;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};var P=r(7908);const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class c{constructor(e,t=c.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}c.now=m.now;const f=new class F extends c{constructor(e,t=c.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class C extends I{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const o=this.id,a=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(a,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,n=0){return d.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&d.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,n=!1;try{this.work(e)}catch(a){n=!0,o=a||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.o)(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),A=f;var w=r(8793),v=r(6697),E=r(9974),S=r(4360),j=r(5343),T=r(3703),x=r(1397),M=r(8750);function y(i,e){return e?t=>(0,w.x)(e.pipe((0,v.s)(1),function R(){return(0,E.N)((i,e)=>{i.subscribe((0,S._)(e,j.l))})}()),t.pipe(y(i))):(0,x.Z)((t,n)=>(0,M.Tg)(i(t,n)).pipe((0,v.s)(1),(0,T.u)(t)))}var N=r(1985),D=r(9470);let U=(()=>{class i{constructor(){}processPayment(t){return(0,p.of)({success:!0,message:"Payment processed successfully!"}).pipe(function V(i,e=f){const t=function G(i=0,e,t=A){let n=-1;return null!=e&&((0,D.m)(e)?t=e:n=e),new N.c(o=>{let a=function Y(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;a<0&&(a=0);let u=0;return t.schedule(function(){o.closed||(o.next(u++),0<=n?this.schedule(void 0,n):o.complete())},a)})}(i,e);return y(()=>t)}(2e3))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function $(i,e){1&i&&(s.j41(0,"div",11),s.EFF(1,"Processing payment..."),s.k0s())}function B(i,e){if(1&i&&(s.j41(0,"div",12),s.EFF(1),s.k0s()),2&i){const t=s.XpG();s.R7$(),s.JRh(t.message)}}let H=(()=>{class i{constructor(t){this.paymentService=t,this.amount=0,this.message="",this.loading=!1}submitPayment(){this.loading=!0,this.paymentService.processPayment(this.amount).subscribe(t=>{this.loading=!1,this.message=t.message})}static{this.\u0275fac=function(n){return new(n||i)(s.rXU(U))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["app-payment"]],standalone:!0,features:[s.aNF],decls:17,vars:4,consts:[[1,"container","mt-4"],[1,"mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","amount",1,"form-label"],["type","number","id","amount","name","amount","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-warning",3,"disabled"],["class","mt-3",4,"ngIf"],["class","mt-3 alert alert-info",4,"ngIf"],[1,"border-secondary-subtle","mb-4"],[1,"border-warning-subtle","mb-4"],[1,"mt-3"],[1,"mt-3","alert","alert-info"]],template:function(n,o){1&n&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2,"Payment "),s.k0s(),s.j41(3,"form",2),s.bIt("ngSubmit",function(){return o.submitPayment()}),s.j41(4,"div",3)(5,"label",4),s.EFF(6,"Amount:"),s.k0s(),s.j41(7,"input",5),s.mxI("ngModelChange",function(u){return s.DH7(o.amount,u)||(o.amount=u),u}),s.k0s()(),s.j41(8,"button",6),s.EFF(9,"Pay"),s.k0s()(),s.DNE(10,$,2,0,"div",7)(11,B,2,1,"div",8),s.nrm(12,"hr",9)(13,"hr",10)(14,"hr",10)(15,"hr",9)(16,"hr",10),s.k0s()),2&n&&(s.R7$(7),s.R50("ngModel",o.amount),s.R7$(),s.Y8G("disabled",o.loading),s.R7$(2),s.Y8G("ngIf",o.loading),s.R7$(),s.Y8G("ngIf",o.message))},dependencies:[g.bT,l.YN,l.qT,l.me,l.Q0,l.BC,l.cb,l.YS,l.vS,l.cV],styles:[".alert[_ngcontent-%COMP%]{margin-top:1rem}"]})}}return i})()}}]);